<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sales and Billing</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles2.css') }}">
</head>
<body>
  <!-- Navigation Menu -->
  <header>
    <nav>
      <ul class="menu">
        <li><a href="{{ url_for('homepage') }}">Home</a></li>
        <li><a href="{{ url_for('products') }}">Products</a></li>
        <li><a href="{{ url_for('inventory') }}">Inventory</a></li>
        <li><a href="{{ url_for('sales_billing') }}">Sales</a></li>
        <li><a href="{{ url_for('crm') }}">Customer</a></li>
        <li><a href="{{ url_for('financial_report') }}">Financial Report</a></li>
      </ul>
    </nav>
  </header>

  <!-- Main Content -->
  <div class="container">
    <h1>Sales and Billing</h1>

    <!-- Product Selection -->
    <div class="product-selection">
      <label for="productSelect">Select Product:</label>
      <select id="productSelect" onchange="updateProductDetails()">
        <option value="">--Select Product--</option>
        <!-- Product options will be populated here -->
      </select>

      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" value="1" min="1">
      <button onclick="addToCart(quantity.value)">Add to Cart</button>
    </div>

    <!-- Display Product Price -->
    <div>
      <strong>Price:</strong> <span id="productPrice">Price not available</span>
    </div>

    <!-- Barcode Scanner Input -->
    <div class="scanner">
      <input type="text" id="barcodeInput" placeholder="Scan Barcode" autofocus onkeypress="handleBarcodeScan(event)">
    </div>

    <!-- Shopping Cart Table -->
    <div class="cart">
      <h2>Shopping Cart</h2>
      <table id="cartTable">
        <thead>
          <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Total</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="cartBody">
          <!-- Items added to cart will appear here -->
        </tbody>
      </table>
    </div>

    <!-- Billing Section -->
    <div class="totals">
      <h2>Billing</h2>
      <p>Subtotal: $<span id="subtotal">0.00</span></p>
      <p>Tax (5%): $<span id="tax">0.00</span></p>
      <p>Total: $<span id="total">0.00</span></p>

      <!-- Payment Method -->
      <h3>Payment Method</h3>
      <select id="paymentMethod">
        <option value="cash">Cash</option>
        <option value="credit">Credit/Debit Card</option>
        <option value="mobile">Mobile Payment</option>
      </select>

      <button onclick="processPayment()">Complete Purchase</button>
    </div>
  </div>

  <script src="{{ url_for('static', filename='js/script2.js') }}"></script>
</body>
</html>
